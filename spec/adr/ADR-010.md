# ADR-010: リリース/CIの品質ゲート（lint/build/test/acceptanceの最低ライン、PRテンプレ/チェック項目）

Status: Accepted
Date: 2026-02-07

## Context

- 運用フェーズで「最低限の品質ゲート」が毎回揺れる。
- ビルドツールがない静的配布のため、重いCIは避けたい。
- 受け入れ試験（ADR-003/004/006）があるため、最小のゲートを明文化する必要がある。

## Decision

1. **品質ゲートは `tools/gate` を正本とする**。
   - lint: `node --check` で JS の構文チェックを行う。
   - build: 静的配布のため **no-op**（必要なら `tools/serve` で起動確認）。
   - acceptance: `tools/adr-e2e` を実行する。
2. **CI 用には最小の `tools/gate-ci` を用意**し、lint のみを実行する。
3. **README に「リリース前に実行する 1 行」を明記**する。
4. **GitHub Actions には最小の lint チェックを追加**する（重くしない）。
5. **PR テンプレートに品質ゲートのチェック項目を置く**。

## Non-goals

- Lint ルールの厳格化やフォーマッタ導入。
- フルビルドや配信パイプラインの構築。

## Consequences

- 得るもの: 最低限の品質ゲートが固定され、運用が安定する。
- 失うもの: CI では acceptance を実行しないため、最終ゲートはローカルに残る。

## References

- spec/adr/ADR-005.md
- spec/test-results/adr-acceptance-latest.md
- README.md
