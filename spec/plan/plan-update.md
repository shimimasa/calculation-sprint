# 計算スプリント 改善ロードマップ（最新版）

## 🎯 現在フェーズ
ダッシュランのコア実装は概ね完了。
今は「完成度を上げるフェーズ」。

---

# 🔥 実装優先順位

## 🥇 Phase1：敵挙動の完全安定化（最優先）

### 1. 敵が倒れるモーションを安定させる
- defeat state を明確に分離
- defeat中は衝突無効
- removeタイミングの一元管理
- animation完了後のみ削除

### 2. 敵の出現位置調整
- 地面とのY座標完全一致
- ステージごとの基準Y明確化
- world座標基準で固定

### 3. 各ステージに登場するモンスターのアップデート
- ステージごとの敵属性明確化
- 将来のボス拡張を想定した構造整理
- JSON管理へ寄せる設計検討

---

## 🥈 Phase2：ステージ構造の整理・拡張

### 4. 各種演算＋ステージ整理

- 演算生成ロジックの明確化
- ステージ＝演算の対応関係整理
- ミックスステージの完全ランダム化
    - 出題演算ランダム
    - 敵種類ランダム
    - 演算と敵の紐付けを外す

- 難易度設計の下地作り
    - 桁数制御
    - 出題パターン制御
    - 将来の段階解放設計

---

## 🥉 Phase3：UI体験の向上

### 5. 各種モードでUI切替
- タイムバー or 距離バー切替
- モード依存HUD管理
- 状態管理の整理（mode単位）

### 6. モード切替時の視認性向上
- 遷移アニメーション
- モード名明示
- 背景演出追加

---

# 🧠 なぜこの順番か

1. 敵挙動はゲームの「信用」
2. ステージ構造は「拡張性の土台」
3. UIは「最後に磨く」

---

# 📅 推奨スケジュール

## Week1
敵挙動完全安定化

## Week2
ステージ構造整理

## Week3
UI磨き込み

---

# 🚀 今後を見据えた設計指針

- 敵／演算／ステージは分離設計
- stateは明確に enum管理
- 将来のボス／属性／レベル導入を想定
- JSON駆動を意識する

---

# 🎯 ゴール

「遊べる」から「完成品」へ。

教育×ゲームとして外に出せる完成度に引き上げる。
ポートフォリオとして耐える設計にする。
