# Product Spec（SSoT）: 計算スプリント

Status: SSoT（正本）
Last updated: 2026-02-07

## 目的 / 成功条件

計算スプリントは、教育現場・支援現場・家庭で「短時間に繰り返せる計算練習」を提供する。
特に共用端末での運用を前提に、記録混入や比較ストレスを起こさずに回せることを最優先とする。
成功の基準は、**迷わず開始できる導線**、**匿名プロファイルによる完全分離**、**学習達成の誤保証を排除する表示**、そして**ポータル統合（サブパス配信・CSS非侵食・storage衝突回避）で壊れないこと**である。

## 対象ユーザー / 利用シーン

主利用者は児童・生徒などの匿名利用者であり、運用者は先生・支援員・保護者を想定する。
授業のすきま時間（60秒×数回）、放課後デイ等の個別支援（切替が多い共用端末）、家庭学習（タブレット/スマホ、Enter不要で成立）を代表的な利用シーンとする。

## UX原則（非交渉）

以下の原則は運用上の事故を避けるための必須条件であり、設計上の譲歩はしない。

- 見通し: 次に何をすれば良いかが常に画面上にある（確定ボタン・テンキー等）。
- 失敗の安全: 誤操作・連打・タイムアップ近傍でも壊れず、復帰できる。
- 比較ストレス抑制: 記録はプロファイル内で閉じる（デフォルトで他者比較を促さない）。
- 短時間運用: 1セッションが短く完結し、切替が軽い。

## 学習達成の扱い（誤保証しない）

距離・演出・称号は継続支援のための「演出」であり、理解や定着を保証しない。
「クリア」「合格」「習得」など、学習達成を連想させる語彙を基軸にしない。

## 運用モデル（共用端末）

匿名プロファイル（例: A〜H）を必須とし、記録はプロファイル単位で完全分離する。
分離対象は進捗（ステージ実施済み）、日次統計（直近7日など）、今日のTOP3（距離）を含む。

リセット権限は「誤操作しにくい導線」を優先し、原則は**選択中プロファイルのみリセット**とする。
全消去は管理者導線に限定し、二重確認などで誤操作リスクを最小化する。

## 禁止事項

- 個人情報の収集（氏名/学籍/メール等）。
- プロファイル間の記録混在（storageキー含む）。
- 学習達成の誤保証（表示・判定・仕様説明）。
- 競争/ランキングの過度な強制（デフォルトで他者比較を促す設計）。

## 用語集

- ステージ: おすすめ課題のまとまり（プリセット＋説明＋順序）。
- 実施: 課題を開始し、結果画面まで到達した事実（成績は問わない）。
- 記録: 端末内の永続データ（統計/進捗/今日TOP3）。
- プロファイル: 端末内の匿名利用者スロット（例: A〜H）。

## 関連ADR

- `spec/adr/ADR-001.md`（ステージ/実施/文言）
- `spec/adr/ADR-002.md`（匿名プロファイル/完全分離/リセット導線）
- `spec/adr/ADR-003.md`（入力Action層/確定/テンキー/送信ロック）
- `spec/adr/ADR-004.md`（サブパス配信/CSSスコープ/storage名前空間）
- `spec/adr/ADR-005.md`（SSoT運用）
- `spec/adr/ADR-006.md`（入力Action契約/CSS隠れグローバル排除/導線固定）
- `spec/adr/ADR-007.md`（アセット/ルーティング診断ゲート）
- `spec/adr/ADR-008.md`（ストレージ/プロファイル完全分離ゲート）
- `spec/adr/ADR-009.md`（UIイベント一元化）
- `spec/adr/ADR-010.md`（リリース/CI品質ゲート）
