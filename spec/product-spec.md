# Product Spec（SSoT）: 計算スプリント

Status: SSoT（正本）
Last updated: 2026-02-05

## 1. 目的 / 成功条件

本プロダクトは、教育現場・支援現場・家庭で「短時間に繰り返せる計算練習」を提供する。
特に **共用端末** を前提に、記録混入や比較ストレスを起こさず運用できることを最優先とする。

- 成功条件
  - 起動からプレイ開始までが迷わず進める（操作が詰まらない）
  - 端末共用でも記録混入が起きない（匿名プロファイルで完全分離）
  - 「学習達成を保証した」と誤解される表示/機能がない
  - ポータル統合（サブパス配信・CSS非侵食・storage衝突回避）で壊れない

## 2. 対象ユーザー / 利用シーン

- 主利用者: 児童・生徒（匿名）
- 運用者: 先生・支援員・保護者
- シーン例
  - 授業のすきま時間（60秒×数回）
  - 放課後デイ等の個別支援（切替が多い共用端末）
  - 家庭学習（タブレット/スマホ、Enterなしでも成立）

## 3. UX原則（守ること）

- 見通し: 次に何をすれば良いかが常に画面上にある（確定ボタン・テンキー等）
- 失敗の安全: 誤操作・連打・タイムアップ近傍でも壊れず、復帰できる
- 比較ストレス抑制: 記録はプロファイル内で閉じる（デフォルトで他者比較を促さない）
- 短時間運用: 1セッションが短く完結し、切替が軽い

## 4. ゲーム設計の立ち位置（誤保証しない）

- 距離/演出/称号は継続支援のための“演出”であり、学習達成（理解・定着）を保証しない。
- 「クリア」「合格」「習得」など、学習達成を連想させる語彙を基軸にしない。

## 5. 運用モデル（共用端末）

- 匿名プロファイルを必須にする（例: A〜H）
- 記録はプロファイル単位で完全分離する
  - 進捗（ステージ実施済み）
  - 日次統計（直近7日など）
  - 今日のTOP3（距離）
- リセット権限
  - 原則: 選択中プロファイルのみリセット（利用者の誤操作を最小化）
  - 全消去: 管理者導線に限定（誤操作しにくい導線/確認）

## 6. 禁止事項（明確に禁止）

- 個人情報の収集（氏名/学籍/メール等）
- プロファイル間の記録混在（storageキー含む）
- 学習達成の誤保証（表示・判定・仕様説明）
- 競争/ランキングの過度な強制（デフォルトで他者比較を促す設計）

## 7. 用語集

- ステージ: おすすめ課題のまとまり（プリセット＋説明＋順序）
- 実施: 課題を開始し、結果画面まで到達した事実（成績は問わない）
- 記録: 端末内の永続データ（統計/進捗/今日TOP3）
- プロファイル: 端末内の匿名利用者スロット（例: A〜H）

## 8. 関連ADR

- `spec/adr/ADR-001.md`（ステージ/実施/文言）
- `spec/adr/ADR-002.md`（匿名プロファイル/完全分離/リセット導線）
- `spec/adr/ADR-003.md`（入力Action層/確定/テンキー/送信ロック）
- `spec/adr/ADR-004.md`（サブパス配信/CSSスコープ/storage名前空間）
- `spec/adr/ADR-005.md`（SSoT運用）
